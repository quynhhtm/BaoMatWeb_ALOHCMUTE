<!doctype html>
<html xmlns:th "http://www.thymeleaf.org" xmlns:layout="http://ww.ultraq.net.nz/thymeleaf/layout">

<head>
	<meta charset="utf-8">
	<title>ALOHCMUTE</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://netdna.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" th:href="@{/css/style_trangcanhan.css}">

</head>

<body>
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
	<div class="container">
		<div class="row">
			<div class="col-sm-12">
				<div>
					<div class="content social-timeline">
						<div class="">
							<div class="row">
								<div class="col-md-12">
									<div class="social-wallpaper">
										<div class="profile-hvr">
											<i class="icofont icofont-ui-edit p-r-10"></i>
											<i class="icofont icofont-ui-delete"></i>
										</div>
									</div>
									<div class="timeline-btn">
										<!--<a href="#" class="btn btn-primary waves-effect waves-light m-r-10">Nhắn tin</a>-->
										<a href="/user/newfeed" class="btn btn-primary waves-effect waves-light">Trang chủ</a>
									</div>

								</div>
							</div>

							<div class="row">
								<div class="col-xl-3 col-lg-4 col-md-4 col-xs-12">
									<div class="social-timeline-left">
										<div class="card">
											<div class="social-profile">
												<img class="img-fluid width-100" alt=""
													th:if="${taikhoan.avatarURl != null and taikhoan.avatarURl.startsWith('http')}"
													th:src="${taikhoan.avatarURl}" />

												<!-- Nếu không phải đường dẫn HTTP, có thể hiển thị một hình ảnh mặc định hoặc thông báo khác -->
												<img class="img-fluid width-100" alt=""
													th:if="${taikhoan.avatarURl != null and !taikhoan.avatarURl.startsWith('http') and taikhoan.avatarURl != ''}"
													th:src="@{'/files/' + ${taikhoan.avatarURl}}" />

												<img class="img-fluid width-100" alt=""
													th:if="${taikhoan.avatarURl == null or taikhoan.avatarURl == ''}"
													th:src="@{'/files/user.png'}" />

												<div class="profile-hvr m-t-15">
													<i class="icofont icofont-ui-edit p-r-10"></i>
													<i class="icofont icofont-ui-delete"></i>
												</div>
											</div>
											<div class="card-block social-follower">
												<h4 th:text="${taikhoan.hoTen}">Ho ten</h4>
												<h5 th:text="${taikhoan.taiKhoan}">Ten nguoi dung</h5>

												<div class="">
													<div th:if="${follows}">
														<a th:href="@{'/trangcanhan/deleteTaiKhoanTheoDoi/' + ${taikhoan.taiKhoan} + '/' + ${chutaikhoan}}"
															class="btn btn-outline-primary waves-effect btn-block"><i
																class="icofont icofont-ui-user m-r-10"></i>Bỏ theo
															dõi</a>
													</div>
													<div th:unless="${follows}">
														<a th:href="@{'/trangcanhan/theoDoiTaiKhoan/' + ${taikhoan.taiKhoan} + '/' + ${chutaikhoan}}"
															class="btn btn-outline-primary waves-effect btn-block"><i
																class="icofont icofont-ui-user m-r-10"></i>Theo dõi</a>
													</div>

												</div>
											</div>
										</div>

										<div class="card">
											<div class="card-header">
												<h5 class="card-header-text d-inline-block">Người theo dõi (<span
														th:text="${sotaikhoantheodoi}"></span>)</h5>

												<!--<span class="label label-primary f-right"> See 12 More </span>-->
											</div>
											<div class="card-block friend-box">
												<span th:each="ac : ${top5taikhoanduoctheodoi}">
													<img class="media-object img-radius" alt=""
														th:if="${ac.avatarURl != null and ac.avatarURl.startsWith('http')}"
														th:src="${ac.avatarURl}" data-toggle="tooltip"
														data-placement="top" title=""
														data-original-title="user image" />

													<!-- Nếu không phải đường dẫn HTTP, có thể hiển thị một hình ảnh mặc định hoặc thông báo khác -->
													<img class="media-object img-radius" alt=""
														th:if="${ac.avatarURl != null and !ac.avatarURl.startsWith('http') and ac.avatarURl != ''}"
														th:src="@{'/files/' + ${ac.avatarURl}}" data-toggle="tooltip"
														data-placement="top" title=""
														data-original-title="user image" />
													
													<img class="media-object img-radius" alt=""
														th:if="${ac.avatarURl == null or ac.avatarURl == ''}"
														th:src="@{'/files/user.png'}" data-toggle="tooltip"
														data-placement="top" title=""
														data-original-title="user image" />
												</span>
											</div>
										</div>

										<div class="card">
											<div class="card-header">
												<h5 class="card-header-text">Đang theo dõi (<span
														th:text="${sotaikhoandangtheodoi}"></span>)</h5>
											</div>
											<div class="card-block user-box">
												<div th:each="ac : ${top5taikhoandangtheodoi}">
													<div class="media m-b-10">
														<a class="media-left"
															th:href="@{'/trangcanhan/thongtintaikhoan/' + ${ac.taiKhoan}}">

															<img class="media-object img-radius"
																alt="Generic placeholder image"
																th:if="${ac.avatarURl != null and ac.avatarURl.startsWith('http')}"
																th:src="${ac.avatarURl}" data-toggle="tooltip"
																data-placement="top" title=""
																data-original-title="user image" />

															<!-- Nếu không phải đường dẫn HTTP, có thể hiển thị một hình ảnh mặc định hoặc thông báo khác -->
															<img class="media-object img-radius"
																alt="Generic placeholder image"
																th:if="${ac.avatarURl != null and !ac.avatarURl.startsWith('http') and ac.avatarURl != ''}"
																th:src="@{'/files/' + ${ac.avatarURl}}"
																data-toggle="tooltip" data-placement="top" title=""
																data-original-title="user image" />
															
															<img class="media-object img-radius"
																alt="Generic placeholder image"
																th:if="${ac.avatarURl == null or ac.avatarURl == ''}"
																th:src="@{'/files/user.png'}"
																data-toggle="tooltip" data-placement="top" title=""
																data-original-title="user image" />
														</a>
														<div class="media-body">
															<a
																th:href="@{'/trangcanhan/thongtintaikhoan/' + ${ac.taiKhoan}}">
																<div class="chat-header" th:text="${ac.hoTen}">
																	Ho ten</div>
															</a>
															<div class="text-muted social-designation"
																th:text="${ac.taiKhoan}">Tai khoan
															</div>
														</div>
													</div>
												</div>
												<div th:if="${sotaikhoandangtheodoi > 4}"
													class="col-md-12 text-md-right mt-3">
													<button type="button"
														class="btn btn-outline-primary waves-effect btn-block"
														onclick="openModal()"><i
															class="icofont icofont-ui-user m-r-10"></i>Xem thêm</button>
												</div>
												<!-- Modal -->
												<div id="myModal" class="modal">
													<div class="modal-content">
														<!-- Phần tiêu đề cố định -->
														<div class="modal-title">
															<span class="close" onclick="closeModal()">&times;</span>
															<h5>Đang theo dõi</h5>
														</div>
														<!-- Phần nội dung bên dưới tiêu đề -->
														<div class="modal-body">
															<div class="row">
																<div class="col-lg-12 col-xl-6"
																	th:each="ac : ${taikhoandangtheodoi}">
																	<div class="card">
																		<div class="card-block post-timelines">
																			<div class="media bg-white d-flex">
																				<div class="media-left media-middle">
																					<a
																						th:href="@{'/trangcanhan/thongtintaikhoan/' + ${ac.taiKhoan}}">

																						<img class="media-object"
																							width="120" alt=""
																							th:if="${ac.avatarURl != null and ac.avatarURl.startsWith('http')}"
																							th:src="${ac.avatarURl}" />

																						<img class="media-object"
																							width="120" alt=""
																							th:if="${ac.avatarURl != null and !ac.avatarURl.startsWith('http') and ac.avatarURl != ''}"
																							th:src="@{'/files/' + ${ac.avatarURl}}" />
																						
																						<img class="media-object"
																							width="120" alt=""
																							th:if="${ac.avatarURl == null or ac.avatarURl == ''}"
																							th:src="@{'/files/user.png'}" />
																					</a>
																				</div>
																				<div class="media-body friend-elipsis">
																					<a
																						th:href="@{'/trangcanhan/thongtintaikhoan/' + ${ac.taiKhoan}}">
																						<div class="f-15 f-bold m-b-5"
																							th:text="${ac.hoTen}">Ho ten
																						</div>
																					</a>
																					<div class="text-muted social-designation"
																						th:text="${ac.taiKhoan}">
																						Tai khoan</div>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>

											</div>
										</div>



									</div>

								</div>
								<div class="col-xl-9 col-lg-8 col-md-8 col-xs-12 ">

									<div class="card social-tabs">
										<ul class="nav nav-tabs md-tabs tab-timeline" role="tablist">
											<li class="nav-item">
												<a class="nav-link" data-toggle="tab"
													th:classappend="${tab=='timeline'} ? 'active'"
													th:href="@{'?tab=timeline'}" role="tab">Bài viết</a>
												<div class="slide"></div>
											</li>

											<li class="nav-item">
												<a class="nav-link" data-toggle="tab"
													th:classappend="${tab=='about'} ? 'active'"
													th:href="@{'?tab=about'}" role="tab">Giới thiệu</a>
												<div class="slide"></div>
											</li>
											<li class="nav-item">
												<a class="nav-link" data-toggle="tab"
													th:classappend="${tab=='photos'} ? 'active'"
													th:href="@{'?tab=photos'}" role="tab">Ảnh</a>
												<div class="slide"></div>
											</li>
											<li class="nav-item">
												<a class="nav-link" data-toggle="tab"
													th:classappend="${tab=='friends'} ? 'active'"
													th:href="@{'?tab=friends'}" role="tab">Người theo dõi</a>
												<div class="slide"></div>
											</li>
										</ul>
									</div>

									<div class="tab-content">
										<div class="tab-pane" id="timeline"
											th:classappend="${tab=='timeline'} ? 'active'">
											<div th:each="bv : ${baivietmodel}">
												<div th:if="${bv.enable}">
													<div class="f-30 text-muted text-center">
														<span th:text="${bv.ThoiGian}"></span>
														<span th:text="${bv.Ngay}"></span>
													</div>
													<div class="row">
														<div class="col-md-12 timeline-dot">
															<div class="social-timelines p-relative">
																<div class="row timeline-right p-t-35">
																	<div class="col-2 col-sm-2 col-xl-1">
																		<div class="social-timelines-left">
																			<img class="img-radius timeline-icon" alt=""
																				th:if="${taikhoan.avatarURl != null and taikhoan.avatarURl.startsWith('http')}"
																				th:src="${taikhoan.avatarURl}" />

																			<img class="img-radius timeline-icon" alt=""
																				th:if="${taikhoan.avatarURl != null and !taikhoan.avatarURl.startsWith('http') and taikhoan.avatarURl != ''}"
																				th:src="@{'/files/' + ${taikhoan.avatarURl}}" />
																				
																			<img class="img-radius timeline-icon" alt=""
																			th:if="${taikhoan.avatarURl == null or taikhoan.avatarURl == ''}"
																				th:src="@{'/files/user.png'}" />
																			

																		</div>
																	</div>
																	<div
																		class="col-10 col-sm-10 col-xl-11 p-l-5 p-b-35">
																		<div class="card">
																			<div class="card-block post-timelines">
																				<div class="media bg-white d-flex">

																					<div
																						class="media-body friend-elipsis">
																						<div class="f-15 f-bold m-b-5"
																							th:text="${taikhoan.hoTen}">
																							Ho
																							ten
																						</div>
																						<div class="text-muted social-designation"
																							th:text="${taikhoan.taiKhoan}">
																							Tai khoan</div>
																					</div>
																				</div>
																			</div>

																			<img th:if="${bv.noiDungHinhAnh != null and bv.noiDungHinhAnh.startsWith('http')}"
																				th:src="${bv.noiDungHinhAnh}"
																				class="img-fluid width-100" alt="">
																			<!-- Nếu không phải đường dẫn HTTP, có thể hiển thị một hình ảnh mặc định hoặc thông báo khác -->
																			<img class="img-fluid width-100" alt=""
																				th:if="${bv.noiDungHinhAnh != null and !bv.noiDungHinhAnh.startsWith('http') and bv.noiDungHinhAnh != ''}"
																				th:src="@{'/files/' + ${bv.noiDungHinhAnh}}" />
																				
																			<div class="card-block">
																				<div class="timeline-details">
																					<div class="p-b-30"> <span
																							class="f-14">
																							<a
																								th:href="@{/user/comment/{baiVietId}(baiVietId=${bv.maBaiViet})}"><span
																									th:text="${taikhoan.hoTen}"></span>
																								đã đăng lên dòng trạng
																								thái</a></span>
																					</div>
																					<div th:with="colorCode=${#strings.substring(bv.noiDungChu, #strings.length(bv.noiDungChu) - 7)}">
																						<p
																							class="text-muted"
																							name="noiDungChu"
																							th:style="'color:' + ${colorCode} + ';text-align: justify; overflow-wrap: break-word; white-space: pre-wrap; width: 100%; min-height: 100px; overflow-y: hidden;'"
																							th:text="${#strings.substring(bv.noiDungChu,0, #strings.length(bv.noiDungChu) - 7)}"
																							></p>
																						</div>
																				</div>
																			</div>
																			<div
																				class="card-block b-b-theme b-t-theme social-msg">
																				<span> <i
																						class="icofont icofont-heart-alt text-muted"></i><span
																						class="b-r-muted">Like<span
																							th:text="${bv.soTuongTac}"></span>
																					</span>
																					<span> <i
																							class="icofont icofont-comment text-muted"></i>
																						<span class="b-r-muted">Comments
																							<span
																								th:text="${bv.soComment}"></span></span></span>

																			</div>

																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>

												</div>

											</div>
											<div class="box-footer clearfix">
												<ul class="pagination pagination-sm no-margin pull-right">

													<li th:if="${currentPageTimeline>1}"><a
															th:href="@{'?tab=timeline'+'&pageNoTimeline='+${currentPageTimeline-1}}">
															<<</a>
													</li>
													<li th:each="i:${#numbers.sequence(1,totalPageTimeline)}"
														th:classappend="${currentPageTimeline==i? 'active' : ''}">
														<a th:if="${i != 0}"
															th:href="@{'?tab=timeline'+'&pageNoTimeline='+${i}}"
															th:text="${i}"></a>
													</li>
													<li th:if="${currentPageTimeline<totalPageTimeline}"><a
															th:href="@{'?tab=timeline'+'&pageNoTimeline='+${currentPageTimeline+1}}">>></a>
													</li>
												</ul>
											</div>
										</div>

										<div class="tab-pane" th:id="about" th:classappend="${tab=='about'} ? 'active'">
											<div class="row">
												<div class="col-sm-12">
													<div class="card">
														<div class="card-header">
															<h5 class="card-header-text" style="display: inline-block;">
																Thông tin cá nhân</h5>
														</div>
														<div class="card-block">
															<div id="view-info" class="row">
																<table class="table table-responsive m-b-0">
																	<tbody>
																		<tr>
																			<th class="social-label b-none p-t-0">
																				Họ tên
																			</th>
																			<td class="social-user-name b-none p-t-0 text-muted"
																				th:text="${taikhoan.hoTen}">
																			</td>
																		</tr>
																		<tr>
																			<th class="social-label b-none">
																				Giới tính</th>
																			<td class="social-user-name b-none text-muted"
																				th:text="${taikhoan.gioiTinh}">
																			</td>
																		</tr>

																		<tr>
																			<th class="social-label b-none p-t-0">
																				Số điện thoại</th>
																			<td class="social-user-name b-none p-t-0 text-muted"
																				th:text="${taikhoan.sDT}">
																			</td>
																		</tr>
																		<tr>
																			<th class="social-label b-none">
																				Email</th>
																			<td class="social-user-name b-none text-muted"
																				th:text="${taikhoan.email}">
																			</td>
																		</tr>
																	</tbody>
																</table>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div class="tab-pane" id="photos" th:classappend="${tab=='photos'} ? 'active'">
											<div class="card">

												<div class="card-block">
													<div class="demo-gallery">
														<ul id="profile-lightgallery" class="row">
															<li class="col-md-4 col-lg-2 col-sm-6 col-xs-12"
																th:each="bv : ${listBaiViet}" th:if="${bv.enable}" >
																<a href="#" data-toggle="lightbox"
																	data-title="A random title"
																	data-footer="A custom footer text">
																	<img class="img-fluid" alt=""
																		th:if="${bv.noiDungHinhAnh != null and bv.noiDungHinhAnh.startsWith('http')}"
																		th:src="${bv.noiDungHinhAnh}" />

																	<img class="img-fluid" alt=""
																		th:if="${bv.noiDungHinhAnh != null and !bv.noiDungHinhAnh.startsWith('http') and bv.noiDungHinhAnh != ''}"
																		th:src="@{'/files/' + ${bv.noiDungHinhAnh}}" />
						
																</a>
															</li>
														</ul>
													</div>
												</div>

											</div>
										</div>

										<div class="tab-pane" id="friends"
											th:classappend="${tab=='friends'} ? 'active'">
											<div class="row">
												<div class="col-lg-12 col-xl-6" th:each="ac : ${taikhoantheodoi}">
													<div class="card">
														<div class="card-block post-timelines">
															<div class="media bg-white d-flex">
																<div class="media-left media-middle">
																	<a
																		th:href="@{'/trangcanhan/thongtintaikhoan/' + ${ac.taiKhoan}}">
																		<img class="media-object" width="120"
																			alt="Generic placeholder image"
																			th:if="${ac.avatarURl != null and ac.avatarURl.startsWith('http')}"
																			th:src="${ac.avatarURl}" />

																		<!-- Nếu không phải đường dẫn HTTP, có thể hiển thị một hình ảnh mặc định hoặc thông báo khác -->
																		<img class="media-object" width="120"
																			th:if="${ac.avatarURl != null and !ac.avatarURl.startsWith('http') and ac.avatarURl != ''}"
																			th:src="@{'/files/' + ${ac.avatarURl}}" />
																		
																		<img class="media-object" width="120"
																		th:if="${ac.avatarURl == null or ac.avatarURl == ''}"
																			th:src="@{'/files/user.png'}" />
																		

																	</a>
																</div>
																<div class="media-body friend-elipsis">
																	<a
																		th:href="@{'/trangcanhan/thongtintaikhoan/' + ${ac.taiKhoan}}">
																		<div class="f-15 f-bold m-b-5"
																			th:text="${ac.hoTen}">Ho ten</div>
																	</a>
																	<div class="text-muted social-designation"
																		th:text="${ac.taiKhoan}">
																		Tai khoan</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
											<div class="box-footer clearfix">
												<ul class="pagination pagination-sm no-margin pull-right">

													<li th:if="${currentPageFriends>1}"><a
															th:href="@{'?tab=friends'+'&pageNoFriends='+${currentPageFriends-1}}">
															<<</a>
													</li>
													<li th:each="i:${#numbers.sequence(1,totalPageFriends)}"
														th:classappend="${currentPageFriends==i? 'active' : ''}">
														<a th:if="${i != 0}"
															th:href="@{'?tab=friends'+'&pageNoFriends='+${i}}"
															th:text="${i}"></a>
													</li>
													<li th:if="${currentPageFriends<totalPageFriends}"><a
															th:href="@{'?tab=friends'+'&pageNoFriends='+${currentPageFriends+1}}">>></a>
													</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script th:src="@{/js/script_trangcanhan.js}"></script>


</body>

</html>

</html>