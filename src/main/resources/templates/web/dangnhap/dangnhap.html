<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Registration and Login System</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link rel="stylesheet" th:href="@{https://pro.fontawesome.com/releases/v5.10.0/css/all.css}">
	<link rel="stylesheet" th:href="@{/css/style_dangnhap.css}">
	
	<link rel="stylesheet" th:href="@{/js/jquery-3.6.0.js}">
	<link rel="stylesheet" th:href="@{/js/toastr.min.js}">
	
	<link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css}">
</head>

<body>
	<div class="container">
		<div class="row">
			<div class="col-logo">
				<img th:src="@{/images/image_logo.png}" alt="Logo">
				<h2>ALOHCMUTE là nơi chia sẻ những câu chuyện thú vị của sinh viên UTE</h2>
			</div>
			<div class="wrapper">

				<form method="post" th:action="@{/login}" th:object="${user}">

					<div class="field">
						<input type="text" id="username" name="username" required>
						<label for="">Tài khoản hoặc email</label>
					</div>

					<div class="field">
						<input type="password" id="password" name="password" required>
						<label for="password">Mật khẩu</label>
					</div>

					<input class="btn-login" type="submit" id="login" value="Đăng nhập">

					<div class="signup-link">
						<a th:href="@{/forgotpassword}">Quên mật khẩu</a>
					</div>
				</form>
				<a th:href="@{/register}">
					<input class="btn-new" type="submit" id="updatePasswordBtn" value="Tạo tài khoản" enabled>
				</a>
			</div>
		</div>
	</div>
	<footer>
		<div class="footer-contents">
			<small>HCMUTE © 2023</small>
		</div>
	</footer>
</body>

<script th:if="${not #strings.isEmpty(mess)}">
	$(document).ready(function () {
		toastr.options = {
			"closeButton": true,
			"progressBar": true,
			"positionClass": "toast-top-right",
			"showDuration": "300",
			"hideDuration": "1000",
			"timeOut": "5000",
			"extendedTimeOut": "1000",
			"showEasing": "swing",
			"hideEasing": "linear",
			"showMethod": "fadeIn",
			"hideMethod": "fadeOut"
		};
		toastr["[[${typenotify}]]"]("[[${mess}]]");
	});
</script>
<script>
	$(document).ready(function () {
		$('input[name="username"').on('input', function () {
			if ($(this).val().indexOf(' ') !== -1){
				toastr.error('Không được nhập dấu cách.');
	            var inputValue = $(this).val().trim();
	            inputValue = inputValue.replace(/\s{2,}/g, ' ');
	            $(this).val(inputValue);
			}
        });
	});
</script>
</html>